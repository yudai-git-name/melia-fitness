---
const headerItems = [
  {
    title: 'OWNER’S PROFILE',
    link: '#profile',
  },
  {
    title: 'FEATURE',
    link: '#feature',
  },
  {
    title: 'MEMBER’S VOICE',
    link: '#members',
  },
  {
    title: 'PRICE',
    link: '#price',
  },
  {
    title: 'Q&A',
    link: '#qa',
  },
  {
    title: 'ACCESS',
    link: '#access',
  },
];

const leftItems = headerItems.slice(0, 3);
const rightItems = headerItems.slice(3);

import ButtonPrimary from '../elements/Button/ButtonPrimary.astro';

import { Image } from 'astro:assets';
import logo from '../../assets/images/_common/logo/logo.png';
---

<header class="header">
  <div class="header__inner">
    <h1 class="header__logo">
      <a href="">
        <Image src={logo} class="header__logo--image" alt="aaa" />
      </a>
    </h1>
    <nav class="header__nav">
      <ul class="header__nav--items --left">
        {
          leftItems.map((item) => (
            <li class="header__nav--item">
              <a href={item.link}>{item.title}</a>
            </li>
          ))
        }
      </ul>
      <ul class="header__nav--items --right">
        {
          rightItems.map((item) => (
            <li class="header__nav--item">
              <a href={item.link}>{item.title}</a>
            </li>
          ))
        }
      </ul>
    </nav>
    <div class="header__button">
      <ButtonPrimary href="#" label="LINE予約" />
    </div>
    <div class="header__drawer">
      <button
        class="header__drawer--button js-drawer-button"
        type="button"
        aria-controls="nav"
        aria-expanded="false"
        aria-label="メニューを開く"
      >
        <span class="header__drawer--button--bar"></span>
      </button>
    </div>
  </div>
</header>

<style>
  .header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 120px;
    background-color: var(--bgPrimary);
    z-index: 999;
  }

  .header__inner {
    position: relative;
    max-width: calc(1060px + 20px * 2);
    width: 100%;
    margin-inline: auto;
    padding-inline: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    height: inherit;
  }

  .header__logo {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 130px;
  }

  .header__nav {
    display: flex;
    justify-content: center;
    align-items: center;
    flex: 1;
  }

  .header__nav--items {
    display: flex;
    align-items: center;
    gap: 32px;
    gap: clamp(1.25rem, -0.353rem + 2.61vw, 2rem);
  }

  .header__nav--items.--left {
    position: absolute;
    top: 50%;
    left: 0;
    left: clamp(1.25rem, -3.922rem + 4.36vw, 0rem);
    transform: translateY(-50%);
  }
  .header__nav--items.--right {
    position: absolute;
    top: 50%;
    right: calc(169px + 57px);
    transform: translateY(-50%);
  }

  .header__nav--item a {
    font-size: 15px;
    letter-spacing: 0.1em;
    font-family: var(--fontLore);
  }

  .header__nav--item:hover a {
    opacity: 0.8;
  }

  .header__button {
    max-width: 170px;
    width: 100%;
  }

  .header__drawer {
    margin-left: 20px;
    display: none;
  }

  .header__drawer--button {
    position: relative;
    z-index: 100;
    right: 0;
    height: 21px;
    width: 28px;
    padding: 0;
    border: none;
    background: transparent;
  }

  .header__drawer--button--bar {
    display: block;
    content: '';
    width: 22px;
    height: 1px;
    background: var(--bgSecondary);
  }

  .header__drawer--button--bar::before,
  .header__drawer--button--bar::after {
    display: block;
    position: absolute;
    content: '';
    width: 100%;
    height: 1px;
    background: #333333;
    transition: 0.3s ease;
  }

  .header__drawer--button--bar::before {
    top: 0;
  }

  .header__drawer--button--bar::after {
    bottom: 0;
    width: 15px;
  }

  .js-drawer-button.is-active .header__drawer--button--bar::before {
    opacity: 1;
    top: 50%;
    transform: rotate(45deg) translateY(-50%);
    transition: 0.3s ease;
  }

  .js-drawer-button.is-active .header__drawer--button--bar::after {
    opacity: 1;
    top: 50%;
    transform: rotate(-45deg) translateY(-50%);
    width: 100%;
    transition: 0.3s ease;
  }

  .js-drawer-button.is-active .header__drawer--button--bar {
    height: 0;
  }

  @media (max-width: 960px) {
    .header {
      height: 68px;
    }

    .header__logo {
      position: initial;
      transform: none;
      width: 76px;
    }

    .header__nav--items {
      display: none;
    }

    .header__button {
      max-width: 134px;
    }

    .header__drawer {
      display: block;
    }
  }
</style>
